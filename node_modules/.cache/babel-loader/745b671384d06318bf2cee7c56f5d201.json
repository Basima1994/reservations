{"ast":null,"code":"var _jsxFileName = \"/Users/rbk-4/Desktop/MVP-JS/src/component/login.js\";\nimport React from \"react\";\nimport \"./signup.css\";\nimport $ from 'jquery';\nimport jwt_decode from \"jwt-decode\";\nimport Signup from \"./signup\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      componant: React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"https://i.ibb.co/CBRR5NC/logo-2.png\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14\n        },\n        __self: this\n      }), React.createElement(\"h1\", {\n        id: \"inp\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 15\n        },\n        __self: this\n      }, \"Welcome Again \"), React.createElement(\"form\", {\n        onSubmit: this.loginfunction.bind(this),\n        className: \"ui form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"Email\",\n        id: \"inp\",\n        placeholder: \"Email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"password\",\n        id: \"inp\",\n        placeholder: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"ui checkbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        id: \"inp\",\n        className: \"hidden\",\n        readOnly: \"\",\n        tabIndex: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        id: \"inp\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, \"remember me\"))), React.createElement(\"button\", {\n        type: \"submit\",\n        id: \"inp\",\n        onClick: this.getUser.bind(this),\n        className: \"ui button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, \"login\"))),\n      password: \"\"\n    };\n  }\n\n  handleClick(event) {\n    event.preventDefault();\n    this.setState({\n      componant: React.createElement(Signup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      })\n    });\n  }\n\n  loginfunction(event) {\n    event.preventDefault();\n    var data = {\n      Email: $(\"#Email\").val(),\n      password: $(\"#password\").val()\n    };\n    var that = this;\n    $.ajax({\n      url: \"http://localhost:8000/login\",\n      type: \"POST\",\n      data: data,\n      datatype: \"json\",\n      success: data => {\n        console.log(data.token);\n        localStorage.setItem(\"usertoken\", data.token);\n        const decoded = jwt_decode(data.token);\n        that.setState({\n          Email: decoded.password\n        });\n      } //  error:function(res){\n      //    console.log(\"Wrong email!!\")\n      //    status(404)\n      //  }\n\n    });\n  }\n\n  getUser() {\n    const token = localStorage.usertoken;\n    const decoded = jwt_decode(token);\n    console.log(token); //console.log(decoded.Email);\n\n    if (decoded.password === this.state.password) {//window.open(\"https://mighty-retreat-72811.herokuapp.com/\", \"_self\");\n    } else {\n      alert(\"Wrong password or email\");\n    }\n  }\n\n  render() {\n    return this.state.componant;\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/rbk-4/Desktop/MVP-JS/src/component/login.js"],"names":["React","$","jwt_decode","Signup","Login","Component","constructor","props","state","componant","loginfunction","bind","getUser","password","handleClick","event","preventDefault","setState","data","Email","val","that","ajax","url","type","datatype","success","console","log","token","localStorage","setItem","decoded","usertoken","alert","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./signup.css\"\nimport $ from 'jquery';\nimport jwt_decode from \"jwt-decode\";\nimport Signup from \"./signup\";\n\n\nclass Login extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        componant: (\n            <div>\n                <img src=\"https://i.ibb.co/CBRR5NC/logo-2.png\"/>\n              <h1 id=\"inp\">Welcome Again </h1>\n        <form  onSubmit={this.loginfunction.bind(this)} className=\"ui form\">\n          <div className=\"field\">\n              <input id=\"Email\" id=\"inp\" placeholder=\"Email\" />\n          </div>\n          <div className=\"field\">\n              <input id=\"password\" id=\"inp\" placeholder=\"password\" />\n          </div>\n          <div className=\"field\">\n              <div className=\"ui checkbox\">\n              <input type=\"checkbox\"  id=\"inp\" className=\"hidden\" readOnly=\"\" tabIndex=\"0\" />\n              <label id=\"inp\">remember me</label>\n              </div>\n          </div>\n          <button type=\"submit\" id=\"inp\"  onClick={this.getUser.bind(this)} className=\"ui button\">login</button>\n          </form>\n      </div> \n        ),\n        password:\"\",\n      };\n    }\n\n    \n    handleClick(event) {\n        event.preventDefault();\n       this.setState({\n         componant: <Signup />\n       });\n     }\n\n     loginfunction(event) {\n        event.preventDefault();\n       var data = {\n         Email: $(\"#Email\").val(),\n         password: $(\"#password\").val(),    \n       };\n\n       var that = this;\n       $.ajax({\n         url: \"http://localhost:8000/login\",\n         type: \"POST\",\n         data: data,\n         datatype: \"json\",\n         success: data => {\n           console.log(data.token)\n           localStorage.setItem(\"usertoken\", data.token);\n           const decoded = jwt_decode(data.token);\n           that.setState({\n            Email: decoded.password\n           });\n          \n         },\n        //  error:function(res){\n        //    console.log(\"Wrong email!!\")\n        //    status(404)\n        //  }\n       });\n     }\n\n     getUser() {\n       const token = localStorage.usertoken;\n       const decoded = jwt_decode(token);\n       console.log(token)\n       //console.log(decoded.Email);\n       if (decoded.password === this.state.password) {\n       //window.open(\"https://mighty-retreat-72811.herokuapp.com/\", \"_self\");\n       } else {\n         alert(\"Wrong password or email\");\n       }\n     }\n\n\n     render() {\n        return  this.state.componant;\n      }\n    }\n    \n  export default Login;"]},"metadata":{},"sourceType":"module"}