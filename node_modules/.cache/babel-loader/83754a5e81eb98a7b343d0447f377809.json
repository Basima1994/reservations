{"ast":null,"code":"import _objectSpread from \"/Users/rbk-4/Desktop/MVP-JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/rbk-4/Desktop/MVP-JS/src/Calender.js\";\nimport * as React from \"react\";\nimport Paper from \"@material-ui/core/Paper\";\nimport $ from \"jquery\";\nimport { ViewState, EditingState, IntegratedEditing } from \"@devexpress/dx-react-scheduler\";\nimport { Scheduler, Toolbar, MonthView, WeekView, DayView, ViewSwitcher, Appointments, AppointmentTooltip, AppointmentForm, DragDropProvider, EditRecurrenceMenu, AllDayPanel, ConfirmationDialog } from \"@devexpress/dx-react-scheduler-material-ui\";\nimport { connectProps } from \"@devexpress/dx-react-core\";\nimport { KeyboardDateTimePicker, MuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport MomentUtils from \"@date-io/moment\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Button from \"@material-ui/core/Button\";\nimport Fab from \"@material-ui/core/Fab\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport TextField from \"@material-ui/core/TextField\";\nimport EventNoteIcon from \"@material-ui/icons/EventNote\";\nimport Notes from \"@material-ui/icons/Notes\";\nimport Close from \"@material-ui/icons/Close\";\nimport CalendarToday from \"@material-ui/icons/CalendarToday\";\nimport Create from \"@material-ui/icons/Create\";\nimport axios from \"axios\";\nimport { appointments } from \"./data\";\n\nconst containerStyles = theme => ({\n  container: {\n    width: theme.spacing(68),\n    padding: 0,\n    paddingBottom: theme.spacing(2)\n  },\n  content: {\n    padding: theme.spacing(2),\n    paddingTop: 0\n  },\n  header: {\n    overflow: \"hidden\",\n    paddingTop: theme.spacing(0.5)\n  },\n  closeButton: {\n    float: \"right\"\n  },\n  buttonGroup: {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    padding: theme.spacing(0, 2)\n  },\n  button: {\n    marginLeft: theme.spacing(2)\n  },\n  picker: {\n    marginRight: theme.spacing(2),\n    \"&:last-child\": {\n      marginRight: 0\n    },\n    width: \"50%\"\n  },\n  wrapper: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    padding: theme.spacing(1, 0)\n  },\n  icon: {\n    margin: theme.spacing(2, 0),\n    marginRight: theme.spacing(2)\n  },\n  textField: {\n    width: \"100%\"\n  }\n});\n\nvar today = new Date();\nvar date = today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate();\n\nclass AppointmentFormContainerBasic extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = () => function (e) {\n      this.setState({\n        title: e.target.value\n      });\n      axios.post(\"http://localhost:3000/Appointments\", {\n        shopId: 3,\n        customerId: 3,\n        startDate: new Date(\"2019-12-13T10:00:00Z\"),\n        endDate: new Date(\"2019-12-13T12:00:00Z\"),\n        title: this.state.title,\n        notes: this.refs.notes,\n        type: \"type\"\n      });\n      console.log(this.state.title);\n    };\n\n    this.state = {\n      appointmentChanges: {},\n      title: \"\"\n    };\n    axios.post(\"http://localhost:3000/Appointments\", {\n      shopId: 3,\n      customerId: 3,\n      startDate: new Date(\"2019-12-13T10:00:00Z\"),\n      endDate: new Date(\"2019-12-13T12:00:00Z\"),\n      title: this.state.title,\n      notes: \"notes\",\n      type: \"type\"\n    });\n\n    this.getAppointmentData = () => {\n      const appointmentData = this.props.appointmentData;\n      return appointmentData;\n    };\n\n    this.getAppointmentChanges = () => {\n      const appointmentChanges = this.state.appointmentChanges;\n      return appointmentChanges;\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.changeAppointment = this.changeAppointment.bind(this);\n    this.commitAppointment = this.commitAppointment.bind(this);\n  }\n\n  changeAppointment({\n    field,\n    changes\n  }) {\n    const nextChanges = _objectSpread({}, this.getAppointmentChanges(), {\n      [field]: changes\n    });\n\n    this.setState({\n      appointmentChanges: nextChanges\n    });\n  }\n\n  commitAppointment(type) {\n    const commitChanges = this.props.commitChanges;\n\n    const appointment = _objectSpread({}, this.getAppointmentData(), {}, this.getAppointmentChanges());\n\n    if (type === \"deleted\") {\n      commitChanges({\n        [type]: appointment._id\n      });\n    } else if (type === \"changed\") {\n      commitChanges({\n        [type]: {\n          [appointment._id]: appointment\n        }\n      });\n    } else {\n      commitChanges({\n        [type]: appointment\n      });\n    }\n\n    this.setState({\n      appointmentChanges: {}\n    });\n  }\n\n  render() {\n    const _this$props = this.props,\n          classes = _this$props.classes,\n          visible = _this$props.visible,\n          visibleChange = _this$props.visibleChange,\n          appointmentData = _this$props.appointmentData,\n          cancelAppointment = _this$props.cancelAppointment,\n          target = _this$props.target,\n          onHide = _this$props.onHide;\n    const appointmentChanges = this.state.appointmentChanges;\n\n    const displayAppointmentData = _objectSpread({}, appointmentData, {}, appointmentChanges);\n\n    const isNewAppointment = appointmentData._id === undefined;\n    const applyChanges = isNewAppointment ? () => this.commitAppointment(\"added\") : () => this.commitAppointment(\"changed\");\n\n    const textEditorProps = field => ({\n      variant: \"outlined\",\n      onChange: ({\n        target: change\n      }) => this.changeAppointment({\n        field: [field],\n        changes: change.value\n      }),\n      value: displayAppointmentData[field] || \"\",\n      label: field[0].toUpperCase() + field.slice(1),\n      className: classes.textField\n    });\n\n    const pickerEditorProps = field => ({\n      className: classes.picker,\n      // keyboard: true,\n      ampm: false,\n      value: displayAppointmentData[field],\n      onChange: date => this.changeAppointment({\n        field: [field],\n        changes: date ? date.toDate() : new Date(displayAppointmentData[field])\n      }),\n      inputVariant: \"outlined\",\n      format: \"DD/MM/YYYY HH:mm\",\n      onError: () => null\n    });\n\n    const cancelChanges = () => {\n      this.setState({\n        appointmentChanges: {}\n      });\n      visibleChange();\n      cancelAppointment();\n    };\n\n    return React.createElement(AppointmentForm.Overlay, {\n      visible: visible,\n      target: target,\n      fullSize: true,\n      onHide: onHide,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.header,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      className: classes.closeButton,\n      onClick: cancelChanges,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(Close, {\n      color: \"action\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.wrapper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, React.createElement(Create, {\n      className: classes.icon,\n      color: \"action\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }), React.createElement(TextField, Object.assign({}, textEditorProps(\"title\"), {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: classes.wrapper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, React.createElement(CalendarToday, {\n      className: classes.icon,\n      color: \"action\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }), React.createElement(MuiPickersUtilsProvider, {\n      utils: MomentUtils,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, React.createElement(KeyboardDateTimePicker, Object.assign({\n      label: \"Start Date\"\n    }, pickerEditorProps(\"startDate\"), {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    })), React.createElement(KeyboardDateTimePicker, Object.assign({\n      label: \"End Date\"\n    }, pickerEditorProps(\"endDate\"), {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: classes.wrapper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(EventNoteIcon, {\n      className: classes.icon,\n      color: \"action\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }), React.createElement(TextField, Object.assign({}, textEditorProps(\"type\"), {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: classes.wrapper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(Notes, {\n      className: classes.icon,\n      color: \"action\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }), React.createElement(TextField, Object.assign({\n      ref: x => this.notes = x\n    }, textEditorProps(\"notes\"), {\n      multiline: true,\n      rows: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: classes.buttonGroup,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, !isNewAppointment && React.createElement(Button, {\n      variant: \"outlined\",\n      color: \"secondary\",\n      className: classes.button,\n      onClick: () => {\n        visibleChange();\n        this.commitAppointment(\"deleted\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, \"Delete\"), React.createElement(Button, {\n      variant: \"outlined\",\n      color: \"primary\",\n      className: classes.button,\n      onClick: () => {\n        visibleChange();\n        applyChanges();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, isNewAppointment ? \"Create\" : \"Save\"))));\n  }\n\n}\n\nconst AppointmentFormContainer = withStyles(containerStyles, {\n  name: \"AppointmentFormContainer\"\n})(AppointmentFormContainerBasic);\n\nconst styles = theme => ({\n  addButton: {\n    position: \"absolute\",\n    bottom: theme.spacing(1) * 3,\n    right: theme.spacing(1) * 4\n  }\n});\n/* eslint-disable-next-line react/no-multi-comp */\n\n\nclass Calender extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: appointments,\n      currentDate: date,\n      confirmationVisible: false,\n      editingFormVisible: false,\n      deletedAppointmentId: undefined,\n      editingAppointment: undefined,\n      previousAppointment: undefined,\n      addedAppointment: {},\n      startDayHour: 0,\n      endDayHour: 24,\n      isNewAppointment: false\n    };\n    var that = this;\n    $.ajax({\n      url: \"/Appointments\",\n      type: \"GET\",\n      dataType: \"JSON\",\n      success: function (data) {\n        that.setState({\n          data: data\n        });\n        console.log(that.state.data);\n      },\n      error: function (err) {\n        console.log(err);\n      }\n    }); // $.ajax({\n    //   url: \"/Appointments\",\n    //   type: \"POST\",\n    //   dataType: \"JSON\",\n    //   success: function(data) {\n    //     that.setState({ data: data });\n    //     console.log(that.state.data);\n    //   },\n    //   error: function(err) {\n    //     console.log(err);\n    //   }\n    // });\n\n    this.toggleConfirmationVisible = this.toggleConfirmationVisible.bind(this);\n    this.commitDeletedAppointment = this.commitDeletedAppointment.bind(this);\n    this.toggleEditingFormVisibility = this.toggleEditingFormVisibility.bind(this);\n    this.commitChanges = this.commitChanges.bind(this);\n    this.onEditingAppointmentChange = this.onEditingAppointmentChange.bind(this);\n    this.onAddedAppointmentChange = this.onAddedAppointmentChange.bind(this);\n    this.appointmentForm = connectProps(AppointmentFormContainer, () => {\n      const _this$state = this.state,\n            editingFormVisible = _this$state.editingFormVisible,\n            editingAppointment = _this$state.editingAppointment,\n            data = _this$state.data,\n            addedAppointment = _this$state.addedAppointment,\n            isNewAppointment = _this$state.isNewAppointment,\n            previousAppointment = _this$state.previousAppointment;\n      axios.post(\"http://localhost:3000/Appointments\", this.state.data);\n      console.log(this.state);\n      const currentAppointment = data.filter(appointment => editingAppointment && appointment._id === editingAppointment._id)[0] || addedAppointment;\n\n      const cancelAppointment = () => {\n        if (isNewAppointment) {\n          this.setState({\n            editingAppointment: previousAppointment,\n            isNewAppointment: false\n          });\n        }\n      };\n\n      return {\n        visible: editingFormVisible,\n        appointmentData: currentAppointment,\n        commitChanges: this.commitChanges,\n        visibleChange: this.toggleEditingFormVisibility,\n        onEditingAppointmentChange: this.onEditingAppointmentChange,\n        cancelAppointment\n      };\n    });\n  }\n\n  componentDidUpdate() {\n    this.appointmentForm.update();\n  }\n\n  onEditingAppointmentChange(editingAppointment) {\n    this.setState({\n      editingAppointment\n    });\n  }\n\n  onAddedAppointmentChange(addedAppointment) {\n    this.setState({\n      addedAppointment\n    });\n    const editingAppointment = this.state.editingAppointment;\n\n    if (editingAppointment !== undefined) {\n      this.setState({\n        previousAppointment: editingAppointment\n      });\n    }\n\n    this.setState({\n      editingAppointment: undefined,\n      isNewAppointment: true\n    });\n  }\n\n  setDeletedAppointmentId(_id) {\n    this.setState({\n      deletedAppointmentId: _id\n    });\n  }\n\n  toggleEditingFormVisibility() {\n    const editingFormVisible = this.state.editingFormVisible;\n    this.setState({\n      editingFormVisible: !editingFormVisible\n    });\n  }\n\n  toggleConfirmationVisible() {\n    const confirmationVisible = this.state.confirmationVisible;\n    this.setState({\n      confirmationVisible: !confirmationVisible\n    });\n  }\n\n  commitDeletedAppointment() {\n    this.setState(state => {\n      const data = state.data,\n            deletedAppointmentId = state.deletedAppointmentId;\n      const nextData = data.filter(appointment => appointment._id !== deletedAppointmentId);\n      return {\n        data: nextData,\n        deletedAppointmentId: null\n      };\n    });\n    this.toggleConfirmationVisible();\n  } // function for the editing and deletion\n\n\n  commitChanges({\n    added,\n    changed,\n    deleted\n  }) {\n    this.setState(state => {\n      let data = state.data;\n\n      if (added) {\n        const startingAddedId = data.length > 0 ? data[data.length - 1]._id + 1 : 0;\n        data = [...data, _objectSpread({\n          _id: startingAddedId\n        }, added)];\n      }\n\n      if (changed) {\n        data = data.map(appointment => changed[appointment._id] ? _objectSpread({}, appointment, {}, changed[appointment._id]) : appointment);\n      }\n\n      if (deleted !== undefined) {\n        this.setDeletedAppointmentId(deleted);\n        this.toggleConfirmationVisible();\n      }\n\n      return {\n        data,\n        addedAppointment: {}\n      };\n    });\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          currentDate = _this$state2.currentDate,\n          data = _this$state2.data,\n          confirmationVisible = _this$state2.confirmationVisible,\n          editingFormVisible = _this$state2.editingFormVisible,\n          startDayHour = _this$state2.startDayHour,\n          endDayHour = _this$state2.endDayHour;\n    const classes = this.props.classes;\n    return React.createElement(Paper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501\n      },\n      __self: this\n    }, React.createElement(Scheduler, {\n      data: data,\n      height: 660,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 502\n      },\n      __self: this\n    }, React.createElement(ViewState, {\n      currentDate: currentDate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503\n      },\n      __self: this\n    }), React.createElement(EditingState, {\n      onCommitChanges: this.commitChanges,\n      onEditingAppointmentChange: this.onEditingAppointmentChange,\n      onAddedAppointmentChange: this.onAddedAppointmentChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504\n      },\n      __self: this\n    }), React.createElement(IntegratedEditing, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509\n      },\n      __self: this\n    }), React.createElement(DayView, {\n      startDayHour: 0,\n      endDayHour: 24,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510\n      },\n      __self: this\n    }), React.createElement(WeekView, {\n      startDayHour: startDayHour,\n      endDayHour: endDayHour,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512\n      },\n      __self: this\n    }), React.createElement(MonthView, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513\n      },\n      __self: this\n    }), React.createElement(AllDayPanel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514\n      },\n      __self: this\n    }), React.createElement(EditRecurrenceMenu, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515\n      },\n      __self: this\n    }), React.createElement(ConfirmationDialog, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 516\n      },\n      __self: this\n    }), React.createElement(Appointments, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517\n      },\n      __self: this\n    }), React.createElement(AppointmentTooltip, {\n      showOpenButton: true,\n      showCloseButton: true,\n      showDeleteButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518\n      },\n      __self: this\n    }), React.createElement(Toolbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 519\n      },\n      __self: this\n    }), React.createElement(ViewSwitcher, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 520\n      },\n      __self: this\n    }), React.createElement(AppointmentForm, {\n      overlayComponent: this.appointmentForm,\n      visible: editingFormVisible,\n      onVisibilityChange: this.toggleEditingFormVisibility,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 521\n      },\n      __self: this\n    }), React.createElement(DragDropProvider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526\n      },\n      __self: this\n    })), React.createElement(Dialog, {\n      open: confirmationVisible,\n      onClose: this.cancelDelete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529\n      },\n      __self: this\n    }, React.createElement(DialogTitle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 530\n      },\n      __self: this\n    }, \"Delete Appointment\"), React.createElement(DialogContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 531\n      },\n      __self: this\n    }, React.createElement(DialogContentText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 532\n      },\n      __self: this\n    }, \"Are you sure you want to delete this appointment?\")), React.createElement(DialogActions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 536\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.toggleConfirmationVisible,\n      color: \"primary\",\n      variant: \"outlined\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 537\n      },\n      __self: this\n    }, \"Cancel\"), React.createElement(Button, {\n      onClick: this.commitDeletedAppointment,\n      color: \"secondary\",\n      variant: \"outlined\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544\n      },\n      __self: this\n    }, \"Delete\"))), React.createElement(Fab, {\n      color: \"secondary\",\n      className: classes.addButton,\n      onClick: () => {\n        this.setState({\n          editingFormVisible: true\n        });\n        this.onEditingAppointmentChange(undefined);\n        this.onAddedAppointmentChange({\n          startDate: new Date(currentDate).setHours(startDayHour),\n          endDate: new Date(currentDate).setHours(startDayHour + 1)\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 554\n      },\n      __self: this\n    }, React.createElement(AddIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 566\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default withStyles(styles, {\n  name: \"EditingDemo\"\n})(Calender); // import * as React from \"react\";\n// import Paper from \"@material-ui/core/Paper\";\n// import { ViewState } from \"@devexpress/dx-react-scheduler\";\n// import {\n//   Scheduler,\n//   WeekView,\n//   Toolbar,\n//   DateNavigator,\n//   Appointments,\n//   TodayButton\n// } from \"@devexpress/dx-react-scheduler-material-ui\";\n// import { appointments } from \"./data\";\n// var today = new Date();\n// var date =\n//   today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate();\n// export default class Calender extends React.PureComponent {\n//   constructor(props) {\n//     super(props);\n//     this.state = {\n//       data: appointments,\n//       currentDate: date\n//     };\n//     this.currentDateChange = currentDate => {\n//       this.setState({ currentDate });\n//     };\n//     console.log(this.state.data);\n//   }\n//   render() {\n//     const { data, currentDate } = this.state;\n//     return (\n//       <Paper>\n//         <Scheduler data={data} height={660}>\n//           <ViewState\n//             currentDate={currentDate}\n//             onCurrentDateChange={this.currentDateChange}\n//           />\n//           <WeekView startDayHour={9} endDayHour={30} />\n//           <Toolbar />\n//           <DateNavigator />\n//           <TodayButton />\n//           <Appointments />\n//         </Scheduler>\n//       </Paper>\n//     );\n//   }\n// }","map":{"version":3,"sources":["/Users/rbk-4/Desktop/MVP-JS/src/Calender.js"],"names":["React","Paper","$","ViewState","EditingState","IntegratedEditing","Scheduler","Toolbar","MonthView","WeekView","DayView","ViewSwitcher","Appointments","AppointmentTooltip","AppointmentForm","DragDropProvider","EditRecurrenceMenu","AllDayPanel","ConfirmationDialog","connectProps","KeyboardDateTimePicker","MuiPickersUtilsProvider","MomentUtils","withStyles","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Button","Fab","IconButton","AddIcon","TextField","EventNoteIcon","Notes","Close","CalendarToday","Create","axios","appointments","containerStyles","theme","container","width","spacing","padding","paddingBottom","content","paddingTop","header","overflow","closeButton","float","buttonGroup","display","justifyContent","button","marginLeft","picker","marginRight","wrapper","icon","margin","textField","today","Date","date","getFullYear","getMonth","getDate","AppointmentFormContainerBasic","PureComponent","constructor","props","handleChange","e","setState","title","target","value","post","shopId","customerId","startDate","endDate","state","notes","refs","type","console","log","appointmentChanges","getAppointmentData","appointmentData","getAppointmentChanges","bind","changeAppointment","commitAppointment","field","changes","nextChanges","commitChanges","appointment","_id","render","classes","visible","visibleChange","cancelAppointment","onHide","displayAppointmentData","isNewAppointment","undefined","applyChanges","textEditorProps","variant","onChange","change","label","toUpperCase","slice","className","pickerEditorProps","ampm","toDate","inputVariant","format","onError","cancelChanges","x","AppointmentFormContainer","name","styles","addButton","position","bottom","right","Calender","data","currentDate","confirmationVisible","editingFormVisible","deletedAppointmentId","editingAppointment","previousAppointment","addedAppointment","startDayHour","endDayHour","that","ajax","url","dataType","success","error","err","toggleConfirmationVisible","commitDeletedAppointment","toggleEditingFormVisibility","onEditingAppointmentChange","onAddedAppointmentChange","appointmentForm","currentAppointment","filter","componentDidUpdate","update","setDeletedAppointmentId","nextData","added","changed","deleted","startingAddedId","length","map","cancelDelete","setHours"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport Paper from \"@material-ui/core/Paper\";\nimport $ from \"jquery\";\nimport {\n  ViewState,\n  EditingState,\n  IntegratedEditing\n} from \"@devexpress/dx-react-scheduler\";\nimport {\n  Scheduler,\n  Toolbar,\n  MonthView,\n  WeekView,\n  DayView,\n  ViewSwitcher,\n  Appointments,\n  AppointmentTooltip,\n  AppointmentForm,\n  DragDropProvider,\n  EditRecurrenceMenu,\n  AllDayPanel,\n  ConfirmationDialog\n} from \"@devexpress/dx-react-scheduler-material-ui\";\nimport { connectProps } from \"@devexpress/dx-react-core\";\nimport {\n  KeyboardDateTimePicker,\n  MuiPickersUtilsProvider\n} from \"@material-ui/pickers\";\nimport MomentUtils from \"@date-io/moment\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Button from \"@material-ui/core/Button\";\nimport Fab from \"@material-ui/core/Fab\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport TextField from \"@material-ui/core/TextField\";\nimport EventNoteIcon from \"@material-ui/icons/EventNote\";\nimport Notes from \"@material-ui/icons/Notes\";\nimport Close from \"@material-ui/icons/Close\";\nimport CalendarToday from \"@material-ui/icons/CalendarToday\";\nimport Create from \"@material-ui/icons/Create\";\nimport axios from \"axios\";\nimport { appointments } from \"./data\";\n\nconst containerStyles = theme => ({\n  container: {\n    width: theme.spacing(68),\n    padding: 0,\n    paddingBottom: theme.spacing(2)\n  },\n  content: {\n    padding: theme.spacing(2),\n    paddingTop: 0\n  },\n  header: {\n    overflow: \"hidden\",\n    paddingTop: theme.spacing(0.5)\n  },\n  closeButton: {\n    float: \"right\"\n  },\n  buttonGroup: {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    padding: theme.spacing(0, 2)\n  },\n  button: {\n    marginLeft: theme.spacing(2)\n  },\n  picker: {\n    marginRight: theme.spacing(2),\n    \"&:last-child\": {\n      marginRight: 0\n    },\n    width: \"50%\"\n  },\n  wrapper: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    padding: theme.spacing(1, 0)\n  },\n  icon: {\n    margin: theme.spacing(2, 0),\n    marginRight: theme.spacing(2)\n  },\n  textField: {\n    width: \"100%\"\n  }\n});\n\nvar today = new Date();\nvar date =\n  today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate();\n\nclass AppointmentFormContainerBasic extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      appointmentChanges: {},\n      title: \"\"\n    };\n    axios.post(\"http://localhost:3000/Appointments\", {\n      shopId: 3,\n      customerId: 3,\n      startDate: new Date(\"2019-12-13T10:00:00Z\"),\n      endDate: new Date(\"2019-12-13T12:00:00Z\"),\n      title: this.state.title,\n      notes: \"notes\",\n      type: \"type\"\n    });\n\n    this.getAppointmentData = () => {\n      const { appointmentData } = this.props;\n      return appointmentData;\n    };\n    this.getAppointmentChanges = () => {\n      const { appointmentChanges } = this.state;\n      return appointmentChanges;\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.changeAppointment = this.changeAppointment.bind(this);\n    this.commitAppointment = this.commitAppointment.bind(this);\n  }\n  handleChange = () =>\n    function(e) {\n      this.setState({\n        title: e.target.value\n      });\n      axios.post(\"http://localhost:3000/Appointments\", {\n        shopId: 3,\n        customerId: 3,\n        startDate: new Date(\"2019-12-13T10:00:00Z\"),\n        endDate: new Date(\"2019-12-13T12:00:00Z\"),\n        title: this.state.title,\n        notes: this.refs.notes,\n        type: \"type\"\n      });\n      console.log(this.state.title);\n    };\n  changeAppointment({ field, changes }) {\n    const nextChanges = {\n      ...this.getAppointmentChanges(),\n      [field]: changes\n    };\n    this.setState({\n      appointmentChanges: nextChanges\n    });\n  }\n\n  commitAppointment(type) {\n    const { commitChanges } = this.props;\n    const appointment = {\n      ...this.getAppointmentData(),\n      ...this.getAppointmentChanges()\n    };\n    if (type === \"deleted\") {\n      commitChanges({ [type]: appointment._id });\n    } else if (type === \"changed\") {\n      commitChanges({ [type]: { [appointment._id]: appointment } });\n    } else {\n      commitChanges({ [type]: appointment });\n    }\n    this.setState({\n      appointmentChanges: {}\n    });\n  }\n\n  render() {\n    const {\n      classes,\n      visible,\n      visibleChange,\n      appointmentData,\n      cancelAppointment,\n      target,\n      onHide\n    } = this.props;\n    const { appointmentChanges } = this.state;\n\n    const displayAppointmentData = {\n      ...appointmentData,\n      ...appointmentChanges\n    };\n\n    const isNewAppointment = appointmentData._id === undefined;\n    const applyChanges = isNewAppointment\n      ? () => this.commitAppointment(\"added\")\n      : () => this.commitAppointment(\"changed\");\n\n    const textEditorProps = field => ({\n      variant: \"outlined\",\n      onChange: ({ target: change }) =>\n        this.changeAppointment({\n          field: [field],\n          changes: change.value\n        }),\n      value: displayAppointmentData[field] || \"\",\n      label: field[0].toUpperCase() + field.slice(1),\n      className: classes.textField\n    });\n\n    const pickerEditorProps = field => ({\n      className: classes.picker,\n      // keyboard: true,\n      ampm: false,\n      value: displayAppointmentData[field],\n      onChange: date =>\n        this.changeAppointment({\n          field: [field],\n          changes: date\n            ? date.toDate()\n            : new Date(displayAppointmentData[field])\n        }),\n      inputVariant: \"outlined\",\n      format: \"DD/MM/YYYY HH:mm\",\n      onError: () => null\n    });\n\n    const cancelChanges = () => {\n      this.setState({\n        appointmentChanges: {}\n      });\n      visibleChange();\n      cancelAppointment();\n    };\n\n    return (\n      <AppointmentForm.Overlay\n        visible={visible}\n        target={target}\n        fullSize\n        onHide={onHide}\n      >\n        <div>\n          <div className={classes.header}>\n            <IconButton className={classes.closeButton} onClick={cancelChanges}>\n              <Close color=\"action\" />\n            </IconButton>\n          </div>\n          <div className={classes.content}>\n            <div className={classes.wrapper}>\n              <Create\n                className={classes.icon}\n                color=\"action\"\n              />\n              <TextField\n                {...textEditorProps(\"title\")}\n              />\n            </div>\n            <div className={classes.wrapper}>\n              <CalendarToday className={classes.icon} color=\"action\" />\n              <MuiPickersUtilsProvider utils={MomentUtils}>\n                <KeyboardDateTimePicker\n                  label=\"Start Date\"\n                  {...pickerEditorProps(\"startDate\")}\n                />\n                <KeyboardDateTimePicker\n                  label=\"End Date\"\n                  {...pickerEditorProps(\"endDate\")}\n                />\n              </MuiPickersUtilsProvider>\n            </div>\n            <div className={classes.wrapper}>\n              <EventNoteIcon className={classes.icon} color=\"action\" />\n              <TextField {...textEditorProps(\"type\")} />\n            </div>\n            <div className={classes.wrapper}>\n              <Notes className={classes.icon} color=\"action\" />\n              <TextField\n                ref={x => (this.notes = x)}\n                {...textEditorProps(\"notes\")}\n                multiline\n                rows=\"6\"\n              />\n            </div>\n          </div>\n          <div className={classes.buttonGroup}>\n            {!isNewAppointment && (\n              <Button\n                variant=\"outlined\"\n                color=\"secondary\"\n                className={classes.button}\n                onClick={() => {\n                  visibleChange();\n                  this.commitAppointment(\"deleted\");\n                }}\n              >\n                Delete\n              </Button>\n            )}\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              className={classes.button}\n              onClick={() => {\n                visibleChange();\n                applyChanges();\n              }}\n            >\n              {isNewAppointment ? \"Create\" : \"Save\"}\n            </Button>\n          </div>\n        </div>\n      </AppointmentForm.Overlay>\n    );\n  }\n}\n\nconst AppointmentFormContainer = withStyles(containerStyles, {\n  name: \"AppointmentFormContainer\"\n})(AppointmentFormContainerBasic);\n\nconst styles = theme => ({\n  addButton: {\n    position: \"absolute\",\n    bottom: theme.spacing(1) * 3,\n    right: theme.spacing(1) * 4\n  }\n});\n\n/* eslint-disable-next-line react/no-multi-comp */\nclass Calender extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: appointments,\n      currentDate: date,\n      confirmationVisible: false,\n      editingFormVisible: false,\n      deletedAppointmentId: undefined,\n      editingAppointment: undefined,\n      previousAppointment: undefined,\n      addedAppointment: {},\n      startDayHour: 0,\n      endDayHour: 24,\n      isNewAppointment: false\n    };\n\n    var that = this;\n    $.ajax({\n      url: \"/Appointments\",\n      type: \"GET\",\n      dataType: \"JSON\",\n      success: function(data) {\n        that.setState({ data: data });\n        console.log(that.state.data);\n      },\n      error: function(err) {\n        console.log(err);\n      }\n    });\n    // $.ajax({\n    //   url: \"/Appointments\",\n    //   type: \"POST\",\n    //   dataType: \"JSON\",\n    //   success: function(data) {\n    //     that.setState({ data: data });\n    //     console.log(that.state.data);\n    //   },\n    //   error: function(err) {\n    //     console.log(err);\n    //   }\n    // });\n\n    this.toggleConfirmationVisible = this.toggleConfirmationVisible.bind(this);\n    this.commitDeletedAppointment = this.commitDeletedAppointment.bind(this);\n    this.toggleEditingFormVisibility = this.toggleEditingFormVisibility.bind(\n      this\n    );\n\n    this.commitChanges = this.commitChanges.bind(this);\n    this.onEditingAppointmentChange = this.onEditingAppointmentChange.bind(\n      this\n    );\n    this.onAddedAppointmentChange = this.onAddedAppointmentChange.bind(this);\n    this.appointmentForm = connectProps(AppointmentFormContainer, () => {\n      const {\n        editingFormVisible,\n        editingAppointment,\n        data,\n        addedAppointment,\n        isNewAppointment,\n        previousAppointment\n      } = this.state;\n\n      axios.post(\"http://localhost:3000/Appointments\", this.state.data);\n      console.log(this.state);\n\n      const currentAppointment =\n        data.filter(\n          appointment =>\n            editingAppointment && appointment._id === editingAppointment._id\n        )[0] || addedAppointment;\n      const cancelAppointment = () => {\n        if (isNewAppointment) {\n          this.setState({\n            editingAppointment: previousAppointment,\n            isNewAppointment: false\n          });\n        }\n      };\n\n      return {\n        visible: editingFormVisible,\n        appointmentData: currentAppointment,\n        commitChanges: this.commitChanges,\n        visibleChange: this.toggleEditingFormVisibility,\n        onEditingAppointmentChange: this.onEditingAppointmentChange,\n        cancelAppointment\n      };\n    });\n  }\n\n  componentDidUpdate() {\n    this.appointmentForm.update();\n  }\n\n  onEditingAppointmentChange(editingAppointment) {\n    this.setState({ editingAppointment });\n  }\n\n  onAddedAppointmentChange(addedAppointment) {\n    this.setState({ addedAppointment });\n    const { editingAppointment } = this.state;\n    if (editingAppointment !== undefined) {\n      this.setState({\n        previousAppointment: editingAppointment\n      });\n    }\n    this.setState({ editingAppointment: undefined, isNewAppointment: true });\n  }\n\n  setDeletedAppointmentId(_id) {\n    this.setState({ deletedAppointmentId: _id });\n  }\n\n  toggleEditingFormVisibility() {\n    const { editingFormVisible } = this.state;\n    this.setState({\n      editingFormVisible: !editingFormVisible\n    });\n  }\n\n  toggleConfirmationVisible() {\n    const { confirmationVisible } = this.state;\n    this.setState({ confirmationVisible: !confirmationVisible });\n  }\n\n  commitDeletedAppointment() {\n    this.setState(state => {\n      const { data, deletedAppointmentId } = state;\n      const nextData = data.filter(\n        appointment => appointment._id !== deletedAppointmentId\n      );\n\n      return { data: nextData, deletedAppointmentId: null };\n    });\n    this.toggleConfirmationVisible();\n  }\n  // function for the editing and deletion\n  commitChanges({ added, changed, deleted }) {\n    this.setState(state => {\n      let { data } = state;\n      if (added) {\n        const startingAddedId =\n          data.length > 0 ? data[data.length - 1]._id + 1 : 0;\n        data = [...data, { _id: startingAddedId, ...added }];\n      }\n      if (changed) {\n        data = data.map(appointment =>\n          changed[appointment._id]\n            ? { ...appointment, ...changed[appointment._id] }\n            : appointment\n        );\n      }\n      if (deleted !== undefined) {\n        this.setDeletedAppointmentId(deleted);\n        this.toggleConfirmationVisible();\n      }\n      return { data, addedAppointment: {} };\n    });\n  }\n\n  render() {\n    const {\n      currentDate,\n      data,\n      confirmationVisible,\n      editingFormVisible,\n      startDayHour,\n      endDayHour\n    } = this.state;\n    const { classes } = this.props;\n\n    return (\n      <Paper>\n        <Scheduler data={data} height={660}>\n          <ViewState currentDate={currentDate} />\n          <EditingState\n            onCommitChanges={this.commitChanges}\n            onEditingAppointmentChange={this.onEditingAppointmentChange}\n            onAddedAppointmentChange={this.onAddedAppointmentChange}\n          />\n          <IntegratedEditing />\n          <DayView startDayHour={0} endDayHour={24} />\n\n          <WeekView startDayHour={startDayHour} endDayHour={endDayHour} />\n          <MonthView />\n          <AllDayPanel />\n          <EditRecurrenceMenu />\n          <ConfirmationDialog />\n          <Appointments />\n          <AppointmentTooltip showOpenButton showCloseButton showDeleteButton />\n          <Toolbar />\n          <ViewSwitcher />\n          <AppointmentForm\n            overlayComponent={this.appointmentForm}\n            visible={editingFormVisible}\n            onVisibilityChange={this.toggleEditingFormVisibility}\n          />\n          <DragDropProvider />\n        </Scheduler>\n\n        <Dialog open={confirmationVisible} onClose={this.cancelDelete}>\n          <DialogTitle>Delete Appointment</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              Are you sure you want to delete this appointment?\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button\n              onClick={this.toggleConfirmationVisible}\n              color=\"primary\"\n              variant=\"outlined\"\n            >\n              Cancel\n            </Button>\n            <Button\n              onClick={this.commitDeletedAppointment}\n              color=\"secondary\"\n              variant=\"outlined\"\n            >\n              Delete\n            </Button>\n          </DialogActions>\n        </Dialog>\n\n        <Fab\n          color=\"secondary\"\n          className={classes.addButton}\n          onClick={() => {\n            this.setState({ editingFormVisible: true });\n            this.onEditingAppointmentChange(undefined);\n            this.onAddedAppointmentChange({\n              startDate: new Date(currentDate).setHours(startDayHour),\n              endDate: new Date(currentDate).setHours(startDayHour + 1)\n            });\n          }}\n        >\n          <AddIcon />\n        </Fab>\n      </Paper>\n    );\n  }\n}\n\nexport default withStyles(styles, { name: \"EditingDemo\" })(Calender);\n// import * as React from \"react\";\n// import Paper from \"@material-ui/core/Paper\";\n// import { ViewState } from \"@devexpress/dx-react-scheduler\";\n// import {\n//   Scheduler,\n//   WeekView,\n//   Toolbar,\n//   DateNavigator,\n//   Appointments,\n//   TodayButton\n// } from \"@devexpress/dx-react-scheduler-material-ui\";\n// import { appointments } from \"./data\";\n\n// var today = new Date();\n// var date =\n//   today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate();\n\n// export default class Calender extends React.PureComponent {\n//   constructor(props) {\n//     super(props);\n\n//     this.state = {\n//       data: appointments,\n//       currentDate: date\n//     };\n\n//     this.currentDateChange = currentDate => {\n//       this.setState({ currentDate });\n//     };\n//     console.log(this.state.data);\n//   }\n\n//   render() {\n//     const { data, currentDate } = this.state;\n\n//     return (\n//       <Paper>\n//         <Scheduler data={data} height={660}>\n//           <ViewState\n//             currentDate={currentDate}\n//             onCurrentDateChange={this.currentDateChange}\n//           />\n//           <WeekView startDayHour={9} endDayHour={30} />\n//           <Toolbar />\n//           <DateNavigator />\n//           <TodayButton />\n//           <Appointments />\n//         </Scheduler>\n//       </Paper>\n//     );\n//   }\n// }\n"]},"metadata":{},"sourceType":"module"}