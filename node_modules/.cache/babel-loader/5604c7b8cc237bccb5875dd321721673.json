{"ast":null,"code":"import _defineProperty from\"/Users/rbk-4/Desktop/MVP-JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/rbk-4/Desktop/MVP-JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/rbk-4/Desktop/MVP-JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/rbk-4/Desktop/MVP-JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/rbk-4/Desktop/MVP-JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/rbk-4/Desktop/MVP-JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/rbk-4/Desktop/MVP-JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import\"./signup.css\";import $ from'jquery';import jwt_decode from\"jwt-decode\";import Signup from\"./signup\";var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);function Login(props){var _React$createElement,_React$createElement2;var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props));_this.state={componant:React.createElement(\"div\",null,React.createElement(\"img\",{src:\"https://i.ibb.co/CBRR5NC/logo-2.png\"}),React.createElement(\"h1\",{id:\"inp\"},\"Welcome Again \"),React.createElement(\"form\",{onSubmit:_this.loginfunction.bind(_assertThisInitialized(_this)),className:\"ui form\"},React.createElement(\"div\",{className:\"field\"},React.createElement(\"input\",(_React$createElement={id:\"Email\"},_defineProperty(_React$createElement,\"id\",\"inp\"),_defineProperty(_React$createElement,\"placeholder\",\"Email\"),_React$createElement))),React.createElement(\"div\",{className:\"field\"},React.createElement(\"input\",(_React$createElement2={id:\"password\"},_defineProperty(_React$createElement2,\"id\",\"inp\"),_defineProperty(_React$createElement2,\"placeholder\",\"password\"),_React$createElement2))),React.createElement(\"div\",{className:\"field\"},React.createElement(\"div\",{className:\"ui checkbox\"},React.createElement(\"input\",{type:\"checkbox\",id:\"inp\",className:\"hidden\",readOnly:\"\",tabIndex:\"0\"}),React.createElement(\"label\",{id:\"inp\"},\"remember me\"))),React.createElement(\"button\",{type:\"submit\",id:\"inp\",onClick:_this.getUser.bind(_assertThisInitialized(_this)),className:\"ui button\"},\"login\"))),password:\"\"};return _this;}_createClass(Login,[{key:\"handleClick\",value:function handleClick(event){event.preventDefault();this.setState({componant:React.createElement(Signup,null)});}},{key:\"loginfunction\",value:function loginfunction(event){event.preventDefault();var data={Email:$(\"#Email\").val(),password:$(\"#password\").val()};var that=this;$.ajax({url:\"http://localhost:8000/login\",type:\"POST\",data:data,datatype:\"json\",success:function success(data){console.log(data.token);localStorage.setItem(\"usertoken\",data.token);var decoded=jwt_decode(data.token);that.setState({Email:decoded.password});}//  error:function(res){\n//    console.log(\"Wrong email!!\")\n//    status(404)\n//  }\n});}},{key:\"getUser\",value:function getUser(){var token=localStorage.usertoken;var decoded=jwt_decode(token);console.log(token);//console.log(decoded.Email);\nif(decoded.password===this.state.password){//window.open(\"https://mighty-retreat-72811.herokuapp.com/\", \"_self\");\n}else{alert(\"Wrong password or email\");}}},{key:\"render\",value:function render(){return this.state.componant;}}]);return Login;}(React.Component);export default Login;","map":{"version":3,"sources":["/Users/rbk-4/Desktop/MVP-JS/src/component/login.js"],"names":["React","$","jwt_decode","Signup","Login","props","state","componant","loginfunction","bind","getUser","password","event","preventDefault","setState","data","Email","val","that","ajax","url","type","datatype","success","console","log","token","localStorage","setItem","decoded","usertoken","alert","Component"],"mappings":"8hCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,cAAP,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,GAGMC,CAAAA,K,2EACF,eAAYC,KAAZ,CAAmB,sFACjB,uEAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACXC,SAAS,CACL,+BACI,2BAAK,GAAG,CAAC,qCAAT,EADJ,CAEE,0BAAI,EAAE,CAAC,KAAP,mBAFF,CAGJ,4BAAO,QAAQ,CAAE,MAAKC,aAAL,CAAmBC,IAAnB,+BAAjB,CAAgD,SAAS,CAAC,SAA1D,EACE,2BAAK,SAAS,CAAC,OAAf,EACI,mDAAO,EAAE,CAAC,OAAV,4CAAqB,KAArB,qDAAuC,OAAvC,wBADJ,CADF,CAIE,2BAAK,SAAS,CAAC,OAAf,EACI,oDAAO,EAAE,CAAC,UAAV,6CAAwB,KAAxB,sDAA0C,UAA1C,yBADJ,CAJF,CAOE,2BAAK,SAAS,CAAC,OAAf,EACI,2BAAK,SAAS,CAAC,aAAf,EACA,6BAAO,IAAI,CAAC,UAAZ,CAAwB,EAAE,CAAC,KAA3B,CAAiC,SAAS,CAAC,QAA3C,CAAoD,QAAQ,CAAC,EAA7D,CAAgE,QAAQ,CAAC,GAAzE,EADA,CAEA,6BAAO,EAAE,CAAC,KAAV,gBAFA,CADJ,CAPF,CAaE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,EAAE,CAAC,KAAzB,CAAgC,OAAO,CAAE,MAAKC,OAAL,CAAaD,IAAb,+BAAzC,CAAkE,SAAS,CAAC,WAA5E,UAbF,CAHI,CAFO,CAsBXE,QAAQ,CAAC,EAtBE,CAAb,CAFiB,aA0BlB,C,kEAGWC,K,CAAO,CACfA,KAAK,CAACC,cAAN,GACD,KAAKC,QAAL,CAAc,CACZP,SAAS,CAAE,oBAAC,MAAD,MADC,CAAd,EAGD,C,oDAEaK,K,CAAO,CAClBA,KAAK,CAACC,cAAN,GACD,GAAIE,CAAAA,IAAI,CAAG,CACTC,KAAK,CAAEf,CAAC,CAAC,QAAD,CAAD,CAAYgB,GAAZ,EADE,CAETN,QAAQ,CAAEV,CAAC,CAAC,WAAD,CAAD,CAAegB,GAAf,EAFD,CAAX,CAKA,GAAIC,CAAAA,IAAI,CAAG,IAAX,CACAjB,CAAC,CAACkB,IAAF,CAAO,CACLC,GAAG,CAAE,6BADA,CAELC,IAAI,CAAE,MAFD,CAGLN,IAAI,CAAEA,IAHD,CAILO,QAAQ,CAAE,MAJL,CAKLC,OAAO,CAAE,iBAAAR,IAAI,CAAI,CACfS,OAAO,CAACC,GAAR,CAAYV,IAAI,CAACW,KAAjB,EACAC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCb,IAAI,CAACW,KAAvC,EACA,GAAMG,CAAAA,OAAO,CAAG3B,UAAU,CAACa,IAAI,CAACW,KAAN,CAA1B,CACAR,IAAI,CAACJ,QAAL,CAAc,CACbE,KAAK,CAAEa,OAAO,CAAClB,QADF,CAAd,EAID,CACF;AACA;AACA;AACA;AAjBM,CAAP,EAmBD,C,yCAES,CACR,GAAMe,CAAAA,KAAK,CAAGC,YAAY,CAACG,SAA3B,CACA,GAAMD,CAAAA,OAAO,CAAG3B,UAAU,CAACwB,KAAD,CAA1B,CACAF,OAAO,CAACC,GAAR,CAAYC,KAAZ,EACA;AACA,GAAIG,OAAO,CAAClB,QAAR,GAAqB,KAAKL,KAAL,CAAWK,QAApC,CAA8C,CAC9C;AACC,CAFD,IAEO,CACLoB,KAAK,CAAC,yBAAD,CAAL,CACD,CACF,C,uCAGQ,CACN,MAAQ,MAAKzB,KAAL,CAAWC,SAAnB,CACD,C,mBAjFaP,KAAK,CAACgC,S,EAoFxB,cAAe5B,CAAAA,KAAf","sourcesContent":["import React from \"react\";\nimport \"./signup.css\"\nimport $ from 'jquery';\nimport jwt_decode from \"jwt-decode\";\nimport Signup from \"./signup\";\n\n\nclass Login extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        componant: (\n            <div>\n                <img src=\"https://i.ibb.co/CBRR5NC/logo-2.png\"/>\n              <h1 id=\"inp\">Welcome Again </h1>\n        <form  onSubmit={this.loginfunction.bind(this)} className=\"ui form\">\n          <div className=\"field\">\n              <input id=\"Email\" id=\"inp\" placeholder=\"Email\" />\n          </div>\n          <div className=\"field\">\n              <input id=\"password\" id=\"inp\" placeholder=\"password\" />\n          </div>\n          <div className=\"field\">\n              <div className=\"ui checkbox\">\n              <input type=\"checkbox\"  id=\"inp\" className=\"hidden\" readOnly=\"\" tabIndex=\"0\" />\n              <label id=\"inp\">remember me</label>\n              </div>\n          </div>\n          <button type=\"submit\" id=\"inp\"  onClick={this.getUser.bind(this)} className=\"ui button\">login</button>\n          </form>\n      </div> \n        ),\n        password:\"\",\n      };\n    }\n\n    \n    handleClick(event) {\n        event.preventDefault();\n       this.setState({\n         componant: <Signup />\n       });\n     }\n\n     loginfunction(event) {\n        event.preventDefault();\n       var data = {\n         Email: $(\"#Email\").val(),\n         password: $(\"#password\").val(),    \n       };\n\n       var that = this;\n       $.ajax({\n         url: \"http://localhost:8000/login\",\n         type: \"POST\",\n         data: data,\n         datatype: \"json\",\n         success: data => {\n           console.log(data.token)\n           localStorage.setItem(\"usertoken\", data.token);\n           const decoded = jwt_decode(data.token);\n           that.setState({\n            Email: decoded.password\n           });\n          \n         },\n        //  error:function(res){\n        //    console.log(\"Wrong email!!\")\n        //    status(404)\n        //  }\n       });\n     }\n\n     getUser() {\n       const token = localStorage.usertoken;\n       const decoded = jwt_decode(token);\n       console.log(token)\n       //console.log(decoded.Email);\n       if (decoded.password === this.state.password) {\n       //window.open(\"https://mighty-retreat-72811.herokuapp.com/\", \"_self\");\n       } else {\n         alert(\"Wrong password or email\");\n       }\n     }\n\n\n     render() {\n        return  this.state.componant;\n      }\n    }\n    \n  export default Login;"]},"metadata":{},"sourceType":"module"}