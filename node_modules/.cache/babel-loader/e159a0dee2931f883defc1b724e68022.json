{"ast":null,"code":"import { toString } from '@telerik/kendo-intl';\nimport { serializeDates } from './utils';\nvar WEEK_DAYS = {\n  0: 'SU',\n  1: 'MO',\n  2: 'TU',\n  3: 'WE',\n  4: 'TH',\n  5: 'FR',\n  6: 'SA'\n};\n\nvar serializeWeekDayList = function (list) {\n  var length = list.length;\n  var result = [];\n  var valueString;\n\n  for (var idx = 0; idx < length; idx++) {\n    var value = list[idx];\n\n    if (typeof value === 'string') {\n      valueString = value;\n    } else {\n      valueString = '' + WEEK_DAYS[value.day];\n\n      if (value.offset) {\n        valueString = value.offset + valueString;\n      }\n    }\n\n    result.push(valueString);\n  }\n\n  return result.toString();\n};\n/**\n * @hidden\n *\n * Internal method for serializing a RecurrenceRule instance to string.\n */\n\n\nexport var serializeRule = function (rrule, timezone) {\n  if (!rrule || !rrule.freq) {\n    return null;\n  }\n\n  var weekStart = rrule.weekStart;\n  var rruleString = 'FREQ=' + rrule.freq.toUpperCase();\n  var exdates = '';\n  var start = '';\n  var end = '';\n  var until = rrule.until;\n\n  if (rrule.interval > 1) {\n    rruleString += ';INTERVAL=' + rrule.interval;\n  }\n\n  if (rrule.count) {\n    rruleString += ';COUNT=' + rrule.count;\n  }\n\n  if (until) {\n    rruleString += ';UNTIL=' + toString(until.toTimezone('Etc/UTC'), 'yyyyMMddTHHmmss') + 'Z';\n  }\n\n  if (rrule.byMonth) {\n    rruleString += ';BYMONTH=' + rrule.byMonth;\n  }\n\n  if (rrule.byWeekNumber) {\n    rruleString += ';BYWEEKNO=' + rrule.byWeekNumber;\n  }\n\n  if (rrule.byYearDay) {\n    rruleString += ';BYYEARDAY=' + rrule.byYearDay;\n  }\n\n  if (rrule.byMonthDay) {\n    rruleString += ';BYMONTHDAY=' + rrule.byMonthDay;\n  }\n\n  if (rrule.byWeekDay) {\n    rruleString += ';BYDAY=' + serializeWeekDayList(rrule.byWeekDay);\n  }\n\n  if (rrule.byHour) {\n    rruleString += ';BYHOUR=' + rrule.byHour;\n  }\n\n  if (rrule.byMinute) {\n    rruleString += ';BYMINUTE=' + rrule.byMinute;\n  }\n\n  if (rrule.bySecond) {\n    rruleString += ';BYSECOND=' + rrule.bySecond;\n  }\n\n  if (rrule.bySetPosition) {\n    rruleString += ';BYSETPOS=' + rrule.bySetPosition;\n  }\n\n  if (weekStart !== undefined) {\n    rruleString += ';WKST=' + WEEK_DAYS[weekStart];\n  }\n\n  if (rrule.start) {\n    start = 'DTSTART' + serializeDates([rrule.start]);\n  }\n\n  if (rrule.end) {\n    end = 'DTEND' + serializeDates([rrule.end]);\n  }\n\n  if (rrule.exceptionDates) {\n    exdates = 'EXDATE' + serializeDates(rrule.exceptionDates);\n  }\n\n  if (start || end || exdates) {\n    rruleString = start + end + exdates + 'RRULE:' + rruleString;\n  }\n\n  return rruleString;\n};","map":null,"metadata":{},"sourceType":"module"}